<div class="container-lg">
    <div class="admin-container-content">
        <header class="admin-container-content-header">
            <h1 class="row py-4 text-primary admin-container-content-header__title">
                Add book
            </h1>
        </header>
        <form action="/table/book/add" enctype="multipart/form-data" method="post">

            <div class="">
                <div class="row justify-content-center">
                    <h2 class="row py-4 text-secondary">
                        Book Information
                    </h2>
                </div>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="row align-items-center">
                            <div class="col-lg-3 py-2">
                                ISBN
                            </div>
                            <div class="col-lg-9 py-2">
                                <input class="form-control" name="isbn"
                                       type="text"
                                >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="row align-items-center">
                            <div class="col-lg-3 py-2">
                                Title
                            </div>
                            <div class="col-lg-9 py-2">
                                <input class="form-control" name="title"
                                       type="text"
                                >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="row align-items-center">
                            <div class="col-lg-3 py-2">
                                Number of pages
                            </div>
                            <div class="col-lg-9 py-2">
                                <input class="form-control" name="num_page" type="number" step="1" min="0"
                                >
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="row align-items-center">
                            <div class="col-lg-3 py-2">
                                Publication date
                            </div>
                            <div class="col-lg-9 py-2">
                                <input class="form-control" name="publication_date" type="date">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="row align-items-center">
                            <div class="col-lg-3 py-2">
                                Price
                            </div>
                            <div class="col-lg-9 py-2">
                                <input class="form-control" name="price" type="number" step="1" min="0"
                                >
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--            Brand-->
            <div class="">
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="row align-items-center">
                            <div class="col-lg-3 py-2">
                                Publisher
                            </div>
                            <div class="col-lg-9 py-2">
                                <div class="input-group">
                                    <input list="publisherList" id="publisherIp" type="text" class="form-control"
                                           name="publisher">
                                    <datalist id="publisherList">
                                        {{#each publisher}}
                                            <option value="{{name}}"></option>
                                        {{/each}}
                                    </datalist>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--                <div class="row justify-content-center">-->
                <!--                    <div class="col-lg-8">-->
                <!--                        <div class="row align-items-center">-->
                <!--                            <div class="col-lg-3 py-2">-->
                <!--                                Author-->
                <!--                            </div>-->
                <!--                            <div class="col-lg-9 py-2">-->
                <!--                                <div class="input-group">-->
                <!--                                    <input list="authorList" id="authorIp" type="text" class="form-control"-->
                <!--                                           name="author">-->
                <!--                                    <datalist id="authorList">-->
                    <!--                                        {{#each author}}-->
                <!--                                            <option value="{{name}}"></option>-->
                    <!--                                        {{/each}}-->
                <!--                                    </datalist>-->
                <!--                                </div>-->
                <!--                                <div class="row justify-content-end">-->
                <!--                                    <div class="col-xl-4 col-md-12">-->
                <!--                                        <button id="addNewAuthorBtn" type="button"-->
                <!--                                                class="btn btn-success rounded-circle">-->
                <!--                                            <i class="fa-solid fa-plus"></i>-->
                <!--                                        </button>-->

                <!--                                    </div>-->
                <!--                                </div>-->
                <!--                            </div>-->
                <!--                        </div>-->
                <!--                    </div>-->
                <!--                </div>-->

                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="row align-items-center">
                            <div class="col-lg-3 py-2">
                                Category
                            </div>
                            <div class="col-lg-9 py-2">
                                <div class="input-group">
                                    <input list="categoryList" id="categoryIp" type="text" class="form-control"
                                           name="category">
                                    <datalist id="categoryList">
                                        {{#each category}}
                                            <option value="{{name}}"></option>
                                        {{/each}}
                                    </datalist>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="" id="pictureList">
                    <div class="row justify-content-center">
                        <div class="col-lg-8">
                            <div class="row align-items-center">
                                <h4 class="row py-4 text-secondary">
                                    Images
                                </h4>

                                <div class="row justify-content-start mt-4 add-new-pictures">
                                    <input name="pictures" accept="image/*" type='file' id="imageInput" multiple/>
                                </div>
                                <div class="mt-4 p-1" style="border-radius: 10px; border: 1px solid #ccc; ">
                                    <div class="row justify-content-start mt-4 none" id="showAddedImage"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>

            <div class="">
                <div class="row justify-content-center">
                    <div class="col-sm-4 text-center">
                        <button type="submit" class="btn btn-success shadow-none">
                            <i class="fa fa-pencil"></i>
                            Save
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>



{{#section 'script'}}


    <script src="/adminStyle/js/filterSelect.js"></script>
    <script src="/adminStyle/js/table.js"></script>

    <script>
        $('#imageInput').change(function (e) {
            // console.log("URL.createObjectURL: ", URL.createObjectURL(e.target.files[0]))
            let showAddedImageHtml = "";
            for (let file of e.target.files) {
                const src = URL.createObjectURL(file);
                showAddedImageHtml +=
                        `<div class="col-lg-1 col-md-3 col-sm-6 mb-4 addedImage">
                            <img src="${src}" alt="new product image" style="width: 80%"/>
                        </div>`
            }
            $("#showAddedImage").append(showAddedImageHtml);
        });
    </script>

{{/section}}