{{#section 'css'}}
    <link href="/stylesheets/statistics/statistics.css" rel="stylesheet"/>
    <link href="/stylesheets/statistics/statisticsByMonth.css" rel="stylesheet"/>
{{/section}}

<main class="statistic-container">
    <div>
        <div class="row mt-2">
            <div class="col">
                <h1 class="mt-4">Statistics by month</h1>
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="/">Dashboard</a></li>
                    <li class="breadcrumb-item">Statistics</li>
                    <li class="breadcrumb-item active"><a href="/statistics/month">Statistics by month</a></li>
                </ol>
            </div>
        </div>
        <form id="filterForm" class="row mt-2" method="get" action="/statistics/month">
            <div class="col-10">
                <div class="filter">
                    <input type="hidden" id="typeOfFilter" name="typeOfFilter" {{#if filter.typeOfFilter}} value="{{filter.typeOfFilter}}" {{else}} value="TIME" {{/if}}>
                    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                            <li class="nav-item" role="presentation">
                                {{!-- <button class="nav-link filter-tab-btn active" id="pills-filter-id-tab" data-bs-toggle="pill" data-bs-target="#pills-filter-id" type="button" role="tab" aria-controls="pills-filter-id" aria-selected="true"> --}}
                                <button class="nav-link filter-tab-btn" id="pills-filter-all-tab" data-bs-toggle="pill" data-bs-target="#pills-filter-all" type="button" role="tab" aria-controls="pills-filter-all" aria-selected="true">
                                    All
                                    <input type="hidden" class="filter-tab-btn-input-hidden" value="ALL">                                    
                                </button>
                            </li>                        
                                {{!-- <button class="nav-link filter-tab-btn active" id="pills-filter-id-tab" data-bs-toggle="pill" data-bs-target="#pills-filter-id" type="button" role="tab" aria-controls="pills-filter-id" aria-selected="true"> --}}
                            <li class="nav-item" role="presentation">
                                <button class="nav-link filter-tab-btn" id="pills-time-tab" data-bs-toggle="pill" data-bs-target="#pills-time" type="button" role="tab" aria-controls="pills-time" aria-selected="false">
                                    By time
                                    <input type="hidden" class="filter-tab-btn-input-hidden" value="TIME">  
                                </button>

                            </li>
                            {{!-- <li class="nav-item" role="presentation">
                                <button class="nav-link filter-tab-btn" id="pills-time-stage-tab" data-bs-toggle="pill" data-bs-target="#pills-time-stage" type="button" role="tab" aria-controls="pills-time-stage" aria-selected="false">
                                    Theo khoảng thời gian
                                    <input type="hidden" class="filter-tab-btn-input-hidden" value="TIME_STATE">
                                </button>
                            </li> --}}
                    </ul>
                    <div class="tab-content" id="pills-tabContent">
                        <div class="tab-pane fade" id="pills-filter-all" role="tabpanel" aria-labelledby="pills-filter-all-tab">

                        </div>                        
                        <div class="tab-pane fade" id="pills-time" role="tabpanel" aria-labelledby="pills-time-tab">
                            <div class="form-group d-flex col-xl-6 col-md-6 col-sm-12">
                                <div class="d-flex mr-4" style="margin-right: 20px;">
                                    <label for="filterMonth" class="col-form-label" style="margin-right: 10px;">Month</label>
                                    <div class="d-flex align-items-center">
                                        <input type="hidden" id="filterMonthHidden" {{#if filter.filterMonth}} value="{{filter.filterMonth}}" {{/if}}>
                                        <select name="filterMonth" id="filterMonth" class="custom-select" value="2">
                                            <option value="-1">All</option>
                                            <option value="0">1</option>
                                            <option value="1">2</option>
                                            <option value="2">3</option>
                                            <option value="3">4</option>
                                            <option value="4">5</option>
                                            <option value="5">6</option>
                                            <option value="6">7</option>
                                            <option value="7">8</option>
                                            <option value="8">9</option>
                                            <option value="9">10</option>
                                            <option value="10">11</option>
                                            <option value="11">12</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="d-flex mr-4" style="margin-right: 20px;">
                                    <label for="filterYear" class="col-form-label" style="margin-right: 10px;">Year</label>
                                    <input type="hidden" id="filterYearHidden" {{#if filter.filterYear}} value="{{filter.filterYear}}" {{/if}}>
                                    <div class="d-flex align-items-center">
                                        <select name="filterYear" id="filterYear" class="select-year custom-select">
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {{!-- <div class="tab-pane fade" id="pills-time-stage" role="tabpanel" aria-labelledby="pills-time-stage-tab">
                            
                            <div class="form-group d-flex col-xl-6 col-md-6 col-sm-12">
                                <label class="col-form-label" style="width: 40px; margin-right: 10px; font-weight:600">Từ</label>
                                <div class="d-flex mr-4" style="margin-right: 20px;">
                                    <label for="filterMinMonth" class="col-form-label" style="margin-right: 10px;">Tháng</label>
                                    <div class="d-flex align-items-center">
                                        <input type="hidden" id="filterMinMonthHidden" {{#if filter.filterMinMonth}} value="{{filter.filterMinMonth}}" {{/if}}>
                                        <select name="filterMinMonth" id="filterMinMonth" class="custom-select" value="0">
                                            <option value="0">1</option>
                                            <option value="1">2</option>
                                            <option value="2">3</option>
                                            <option value="3">4</option>
                                            <option value="4">5</option>
                                            <option value="5">6</option>
                                            <option value="6">7</option>
                                            <option value="7">8</option>
                                            <option value="8">9</option>
                                            <option value="9">10</option>
                                            <option value="10">11</option>
                                            <option value="11">12</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="d-flex mr-4" style="margin-right: 20px;">
                                    <label for="filterMinYear" class="col-form-label" style="margin-right: 10px;">Năm</label>
                                    <input type="hidden" id="filterMinYearHidden" {{#if filter.filterMinYear}} value="{{filter.filterMinYear}}" {{/if}}>
                                    <div class="d-flex align-items-center">
                                        <select name="filterMinYear" id="filterMinYear" class="select-year custom-select">
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group d-flex col-xl-6 col-md-6 col-sm-12">
                                <label class="col-form-label" style="width: 40px; margin-right: 10px; font-weight:600">Đến</label>
                                <div class="d-flex mr-4" style="margin-right: 20px;">
                                    <label for="filterMaxMonth" class="col-form-label" style="margin-right: 10px;">Tháng</label>
                                    <div class="d-flex align-items-center">
                                        <input type="hidden" id="filterMaxMonthHidden" {{#if filter.filterMaxMonth}} value="{{filter.filterMaxMonth}}" {{/if}}>
                                        <select name="filterMaxMonth" id="filterMaxMonth" class="custom-select" value="0">
                                            <option value="0">1</option>
                                            <option value="1">2</option>
                                            <option value="2">3</option>
                                            <option value="3">4</option>
                                            <option value="4">5</option>
                                            <option value="5">6</option>
                                            <option value="6">7</option>
                                            <option value="7">8</option>
                                            <option value="8">9</option>
                                            <option value="9">10</option>
                                            <option value="10">11</option>
                                            <option value="11">12</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="d-flex mr-4" style="margin-right: 20px;">
                                    <label for="filterMaxYear" class="col-form-label" style="margin-right: 10px;">Năm</label>
                                    <input type="hidden" id="filterMaxYearHidden" {{#if filter.filterMaxYear}} value="{{filter.filterMaxYear}}" {{/if}}>
                                    <div class="d-flex align-items-center">
                                        <select name="filterMaxYear" id="filterMaxYear" class="select-year custom-select">
                                        </select>
                                    </div>
                                </div>
                            </div>

                        </div> --}}
                    </div>
                </div>
            </div>
            <div class="col-2 d-flex align-items-center">
                <button type="submit" class="btn btn-outline-primary" id="searchBtn">
                    <i class="fa-solid fa-magnifying-glass"></i>
                </button>
            </div>
        </form>
        {{!-- <div class="row">
            <div class="col-12">
                <div class="filter">
                    <div class="d-flex justify-content-end">
                            <label for="limit" class="col-form-label" style="margin-right: 10px;">Số dòng</label>
                            <input type="hidden" id="limitHidden" {{#if pagination.limit}} value="{{pagination.limit}}" {{/if}}>
                            <div class="d-flex align-items-center">
                                <select name="limit" id="limit" class="custom-select" form="filterForm">
                                    <option value="-1">All</option>
                                    <option value="5">5</option>
                                    <option selected="selected" value="10">10</option>
                                    <option value="20">20</option>
                                    <option value="50">50</option>
                                </select>
                            </div>
                    </div>
                </div>
            </div>
        </div> --}}
        <div class="row mt-2">
            <div class="col-md-12 col-xs-12">
                <div class="content">             
                    <table id="statisticTable" class="statistic-table">
                        <thead>
                            <tr>
                                <th>Year</th>
                                <th>MOnth</th>
                                <th>Import money</th>
                                <th>Sale money</th>
                                <th>Customer money paid</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>Year</th>
                                <th>MOnth</th>
                                <th>Import money</th>
                                <th>Sale money</th>
                                <th>Customer money paid</th>
                            </tr>
                        </tfoot>
                        <tbody id="statisticTableBody">
                            {{#each statisticsMonths}}
                                <tr>
                                    <td>{{year}}</td>
                                    <td>{{month}}</td>
                                    <td>{{importTotalMoney}}</td>
                                    <td>{{saleTotalMoney}}</td>
                                    <td>{{billTotalMoney}}</td>
                                </tr>
                            {{/each}}
                            <script type="text/x-handlebars-template" id="tableDataTemplate">
                                \{{#each statisticsMonths}}
                                    <tr>
                                        <td>\{{year}}</td>
                                        <td>\{{month}}</td>
                                        <td>\{{importTotalMoney}}</td>
                                        <td>\{{saleTotalMoney}}</td>
                                        <td>\{{billTotalMoney}}</td>
                                    </tr>
                                \{{/each}}
                            </script>
                        </tbody>
                    </table>

                    
      

                    <footer class="row justify-content-center">
                        <nav class="col-lg-3 col-md-6 col-sm-9" aria-label="Page navigation example" id="pagination">
                            {{{createPagination pagination paginationClass="pagination"}}}

                            <script type="text/x-handlebars-template" id="paginationTemplate">
                                \{{{createPagination pagination paginationClass="pagination"}}}
                            </script>
                        </nav>
                    </footer>


                </div>
            </div>
        </div>
    </div>



    <!-- Modal -->


</main>

{{#section 'script'}}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
    <script src="/js/helper/helper.js"></script>
    <script src="/js/helper/paginationHelper.js"></script>
    <script src="/js/general/pagination/pagination.js"></script>
    <script src="/js/statistics/statistics.js"></script>
    <script src="/js/statistics/statisticsByMonth.js"></script>

{{/section}}